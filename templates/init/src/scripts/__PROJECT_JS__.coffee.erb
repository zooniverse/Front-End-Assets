define (require, exports, module) ->
  App = require 'zooniverse/models/App'
  Project = require 'zooniverse/models/Project'
  Workflow = require 'zooniverse/models/Workflow'
  Subject = require 'zooniverse/models/Subject'

  Classifier = require 'controllers/Classifier'
  Profile = require 'controllers/Profile'

  <%= project_js %> = new App
    talkHost: 'http://talk.<%= project_domain %>'
    cartoUser: 'CARTODB USER'
    cartoApiKey: 'CARTODB API KEY'
    cartoTable: 'CARTODB TABLE'
    facebookId: 'FACEBOOK APP ID'

    languages: ['en']

    el: '.<%= project_dash %>.app'

    projects: [
      new Project
        id: 'PROJECT ID'
        name: '<%= project %>'
        slug: '<%= project_dash %>'
        description: 'PROJECT DESCRIPTION'

        workflows: [
          new Workflow
            id: 'WORKFLOW ID'
            controller: new Classifier
              el: '[data-page="classify"]'
            tutorialSubjects: [
              new Subject
                location: 'TUTORIAL SUBJECT LOCATION'
                coords: [0, 0]
                workflow: {}
            ]
        ]
    ]

  <%= project_js %>.save()

  new Profile
    el: '[data-page="profile"]'

  window.app = <%= project_js %>
  module.exports = <%= project_js %>
