define (require, exports, module) ->
  App = require 'zooniverse/controllers/App'
  Subject = require 'zooniverse/models/Subject'
  Classification = require 'zooniverse/models/Classification'
  Workflow = require 'zooniverse/controllers/Workflow'
  Profile = require 'zooniverse/controllers/Profile'

  <%= project_js %> = new App
    languages: ['en']

    projects:
      PROJECT_ID:
        attributes:
          name: '<%= project %>'
          slug: '<%= project_dash %>'
          description: 'A Zooniverse project'

        workflows:
          WORKFLOW_ID:
            subject: Subject
            classification: Classification
            controller: Workflow
            attributes:
              el: '[data-page="classify"]'

    widgets:
      profile:
        controller: Profile
        attributes:
          el: '[data-page="profile"]'

  module.exports = <%= project_js %>
